% Copyright 2023 Yoshida Shin
%
% This is part of the ``WEBASSEMBLY What's the right thing to write?''.
%
% Permission is granted to copy, distribute and/or modify this
% document under the terms of the GNU Free Documentation License,
% Version 1.3 or any later version published by the Free Software
% Foundation; with one Invariant Sections:
% ``Shin Yoshida wrote this document with the goal of contributing to a fair and safe world.
% Funai Soken Digital Incorporated agrees with the vision and compensated him for his work.''
% no Front-Cover Texts, and no Back-Cover Text. A copy of the license is
% included in the section entitled ``GNU Free Documentation License''.

\section{Unix and C}

\begin{frame}{}{}
    {\Huge Unix and C}
\end{frame}


\begin{frame}{Unix and C}{}
    Thanks to the specification, programmers can make a program without understanding the circuit.
    \vspace{4ex}

    \onslide+<2->{But still difficult.}
    \vspace{4ex}

    \begin{itemize}
        \onslide+<3->{\item As programmers specialized in their respective speciality, even understanding the specification itself can be challenging for some of them.}
        \onslide+<4->{\item It is necessary to prepare as many programs as the number of specifications.}
    \end{itemize}
\end{frame}


\begin{frame}{Unix and C}{}
    Let's consider to create an editor application.
    \vspace{4ex}

    \onslide+<2->{It needs to have functions such as}
    \vspace{2ex}

    \begin{itemize}
        \onslide+<3->{\item Saving a file}
        \onslide+<4->{\item Printing out}
    \end{itemize}
\end{frame}


\begin{frame}{Unix and C}{}
    How many programs would we need for this?
    \vspace{4ex}

    \onslide+<2->{In the worst scenario,}
    \onslide+<3->{the answer is}
    \vspace{4ex}

    \onslide+<4->{{\small(The number of printers) \textcolor{red}{x} (The number of storages)}}
\end{frame}


\begin{frame}{Unix and C}{}
    Abstraction can help!
\end{frame}


\begin{frame}{Unix and C}{}
    Unix makes the hardware specification abstract,

    except for the CPU and the memory.
\end{frame}


\begin{frame}{Unix and C}{}
    But what about CPU and memory?
    \vspace{4ex}

    \onslide+<2->{That's where C language comes in to make them abstract!}
\end{frame}


\begin{frame}{Unix and C}{}
    The programmers write a source code in C language for Unix.
    \vspace{4ex}

    \onslide+<2->{The C compiler for the CPU specification will generate an executable file.
    \vspace{2ex}

    \onslide+<3->{(Executable File: File that the CPU can read and execute directly.)}}
\end{frame}


\begin{frame}{Unix and C}{}
    How can we provide the application for another CPU?
    \vspace{4ex}

    \onslide+<2->{Generate executable file again using a compiler for the new CPU specification.}
\end{frame}


\begin{frame}{Unix and C}{}
    Here is an example of the work flow.
    \vspace{4ex}

    \begin{enumerate}
        \onslide+<2->{\item Create a CPU and the C compiler.}
        \onslide+<3->{\item Create OS in C language and extend the C compiler for the OS.}
        \onslide+<4->{\item Write a source code and generate an executable file using the extended compiler.}
    \end{enumerate}
\end{frame}


\begin{frame}{Unix and C}{}
    Thanks to Unix, programmers do not have to study each specification of the hardware.
    \vspace{4ex}

    Programmers can write a program in C language without studying the CPU specification.
\end{frame}


\begin{frame}{System call and User Land}{Unix and C}
    btw, how do programmers write code to manipulate the hardware in C language on OS?
    \vspace{4ex}

    \onslide+<2->{Send a request to the OS.}
\end{frame}


\begin{frame}{System call and User Land}{Unix and C}
    The development of OS split the process of application into two.
    \vspace{4ex}

    \begin{itemize}
        \onslide+<2->{\item Request to the OS}
        \onslide+<3->{\item The others (calculation using the CPU and memory directly)}
    \end{itemize}
\end{frame}


\begin{frame}{System call and User Land}{Unix and C}
    ``Request to the OS'' is called ``System Call.''
    \vspace{4ex}

    \onslide+<2->{
        \begin{itemize}
            \item Input / Output (Because we have to use the hardware for input / output.)
            \item Memory Allocation / Deallocation (It does not use the hardware, but someone must manage the memory to run 2 or more than 2 processes simultaneously.)
            \item ...
        \end{itemize}
    }
\end{frame}


\begin{frame}{System call and User Land}{Unix and C}
    The others (calculation using the CPU and memory directly)
    \vspace{4ex}

    \onslide+<2->{
        \begin{itemize}
            \item Arithmetic operations
            \item Memory access (Read / Write)
            \item ...
        \end{itemize}
    }
\end{frame}
